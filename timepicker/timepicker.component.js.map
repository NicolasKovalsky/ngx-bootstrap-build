{"version":3,"sources":["../../src/timepicker/timepicker.component.ts"],"names":[],"mappings":"AAAA,qCAAC;AACD,OAAO,EAAE,SAAA,EAAW,KAAA,EAAe,UAAA,EAAW,MAAO,eAAA,CAAgB;AACrE,OAAO,EAAwB,iBAAA,EAAkB,MAAO,gBAAA,CAAiB;AACzE,OAAO,EAAE,gBAAA,EAAiB,MAAO,qBAAA,CAAsB;AAEvD,MAAM,CAAC,IAAM,iCAAA,GAAyC;IACpD,OAAO,EAAE,iBAAA;IACT,WAAW,EAAE,UAAA,CAAW,cAAM,OAAA,mBAAA,EAAA,CAAA,CAAoB;IAClD,KAAK,EAAE,IAAA;CACR,CAAC;AAEF,gFAAgF;AAChF,uBAAuB;AACvB,mCAAmC;AACnC,sEAAsE;AACtE,iCAAiC;AACjC,mBAAmB,KAAO;IACxB,MAAM,CAAC,OAAO,KAAA,KAAU,WAAA,CAAY;AACtC,CAAC;AAED,oBAAoB,IAAM,EAAK,OAAS;IACtC,IAAI,EAAA,GAAK,IAAI,IAAA,CAAK,IAAC,CAAI,OAAC,EAAO,GAAI,OAAA,GAAU,KAAA,CAAM,CAAC;IACpD,IAAI,OAAA,GAAU,IAAI,IAAA,CAAK,IAAC,CAAI,CAAC;IAC7B,OAAO,CAAC,QAAC,CAAQ,EAAC,CAAE,QAAC,EAAQ,EAAG,EAAA,CAAG,UAAC,EAAU,CAAE,CAAC;IACjD,MAAM,CAAC,OAAA,CAAQ;AACjB,CAAC;AAGD;IAyEE,6BAAmB,OAAyB;QA/BrC,aAAQ,GAAQ,QAAQ,CAAC,SAAS,CAAC;QACnC,cAAS,GAAQ,QAAQ,CAAC,SAAS,CAAC;QAY3C,eAAe;QACL,cAAS,GAAS,IAAI,IAAI,EAAE,CAAC;QAkBrC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC;QACtB,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IAC/B,CAAC;IAtDD,sBAAW,6CAAY;QAFvB,+FAA+F;aAE/F;YACE,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC;QAC5B,CAAC;aAED,UAAwB,KAAc;YACpC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC3B,uBAAuB;YACvB,cAAc;YACd,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,MAAM,CAAC;YACP,IAAI;YACJ,yBAAyB;YACzB;;;;;gBAKI;QACN,CAAC;;;OAhBA;IAmCD,sBAAc,yCAAQ;aAAtB;YACE,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;QACxB,CAAC;aAED,UAAuB,CAAO;YAC5B,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACN,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;gBACnB,IAAI,CAAC,cAAc,EAAE,CAAC;gBACtB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC/B,CAAC;QACH,CAAC;;;OARA;IAiBD,2CAA2C;IACpC,sCAAQ,GAAf;QACE,wDAAwD;QACxD,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACpB,gCAAgC;QAClC,CAAC;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YACnB,8BAA8B;QAChC,CAAC;QAED,2BAA2B;IAC7B,CAAC;IAEM,wCAAU,GAAjB,UAAkB,CAAM;QACtB,EAAE,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YACxB,MAAM,CAAC;QACT,CAAC;QACD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,CAAC,CAAC,CAAC;YAC3B,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;YAClB,MAAM,CAAC;QACT,CAAC;QACD,IAAI,CAAC,QAAQ,GAAG,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC;IAC3C,CAAC;IAEM,8CAAgB,GAAvB,UAAwB,EAAkB;QACxC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;IACrB,CAAC;IAEM,+CAAiB,GAAxB,UAAyB,EAAY;QACnC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACtB,CAAC;IAEM,8CAAgB,GAAvB,UAAwB,UAAmB;QACzC,IAAI,CAAC,aAAa,GAAG,UAAU,CAAC;IAClC,CAAC;IAEM,yCAAW,GAAlB;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;YACvB,MAAM,CAAC;QACT,CAAC;QAED,IAAI,KAAK,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,OAAO,GAAG,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC5C,IAAI,CAAC,YAAY,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QACtC,IAAI,CAAC,cAAc,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QAE1C,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;YAC7C,2CAA2C;YAC3C,MAAM,CAAC;YACP,oBAAoB;YACpB,oBAAoB;QACtB,CAAC;QAED,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC9B,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;QAC3E,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YACtB,oBAAoB;YACpB,oBAAoB;YACpB,MAAM,CAAC;QACT,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,OAAO,EAAS,CAAC;QACxB,CAAC;IACH,CAAC;IAEM,yCAAW,GAAlB;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;YACvB,MAAM,CAAC;QACT,CAAC;QAED,+BAA+B;QAC/B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YACxD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACpC,CAAC;IACH,CAAC;IAEM,2CAAa,GAApB;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;YACvB,MAAM,CAAC;QACT,CAAC;QAED,IAAI,OAAO,GAAG,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC5C,IAAI,KAAK,GAAG,IAAI,CAAC,oBAAoB,EAAE,CAAC;QACxC,IAAI,CAAC,cAAc,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QAC1C,IAAI,CAAC,YAAY,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAEtC,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YAC7C,2CAA2C;YAC3C,MAAM,CAAC;YACP,mBAAmB;YACnB,+BAA+B;QACjC,CAAC;QAED,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QAClC,IAAI,CAAC,cAAc,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;QAC7E,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;YACxB,mBAAmB;YACnB,+BAA+B;YAC/B,MAAM,CAAC;QACT,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,OAAO,EAAS,CAAC;QACxB,CAAC;IACH,CAAC;IAEM,2CAAa,GAApB;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;YACvB,MAAM,CAAC;QACT,CAAC;QAED,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YAC5D,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACxC,CAAC;IACH,CAAC;IAEM,4CAAc,GAArB;QACE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC;YAC7B,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,CAAC;QAChD,CAAC;IACH,CAAC;IAEM,4CAAc,GAArB;QACE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC;YAC7B,IAAI,CAAC,oBAAoB,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,CAAC;QACjD,CAAC;IACH,CAAC;IAEM,8CAAgB,GAAvB;QACE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC;YAC/B,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC7C,CAAC;IACH,CAAC;IAEM,8CAAgB,GAAvB;QACE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC;YAC/B,IAAI,CAAC,oBAAoB,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC9C,CAAC;IACH,CAAC;IAEM,8CAAgB,GAAvB;QACE,IAAI,mBAAmB,GAAG,UAAU,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,CAAC;QACxE,MAAM,CAAC,mBAAmB,GAAG,IAAI,CAAC,GAAG;YACnC,CAAC,mBAAmB,GAAG,IAAI,CAAC,QAAQ,IAAI,mBAAmB,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;IAC5E,CAAC;IAEM,8CAAgB,GAAvB;QACE,IAAI,mBAAmB,GAAG,UAAU,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,CAAC;QACzE,MAAM,CAAC,mBAAmB,GAAG,IAAI,CAAC,GAAG;YACnC,CAAC,mBAAmB,GAAG,IAAI,CAAC,QAAQ,IAAI,mBAAmB,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;IAC5E,CAAC;IAEM,gDAAkB,GAAzB;QACE,IAAI,mBAAmB,GAAG,UAAU,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACrE,MAAM,CAAC,mBAAmB,GAAG,IAAI,CAAC,GAAG;YACnC,CAAC,mBAAmB,GAAG,IAAI,CAAC,QAAQ,IAAI,mBAAmB,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;IAC5E,CAAC;IAEM,gDAAkB,GAAzB;QACE,IAAI,mBAAmB,GAAG,UAAU,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACtE,MAAM,CAAC,mBAAmB,GAAG,IAAI,CAAC,GAAG;YACnC,CAAC,mBAAmB,GAAG,IAAI,CAAC,QAAQ,IAAI,mBAAmB,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;IAE5E,CAAC;IAEM,4CAAc,GAArB;QACE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC;YAC7B,IAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,GAAG,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;YAClD,IAAI,CAAC,oBAAoB,CAAC,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;QAC5C,CAAC;IACH,CAAC;IAEM,8CAAgB,GAAvB;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;YACvB,MAAM,CAAC,IAAI,CAAC;QACd,CAAC;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;YAClC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,GAAG,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC;QACvD,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC;QACxD,CAAC;IACH,CAAC;IAES,qCAAO,GAAjB;QACE,oBAAoB;QACpB,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC/B,CAAC;IAES,4CAAc,GAAxB;QACE,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;QACrC,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC;QAEzC,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YACtB,+BAA+B;YAC/B,KAAK,GAAG,CAAC,KAAK,KAAK,CAAC,IAAI,KAAK,KAAK,EAAE,CAAC,GAAG,EAAE,GAAG,KAAK,GAAG,EAAE,CAAC;QAC1D,CAAC;QAED,iEAAiE;QACjE,gCAAgC;QAChC,qCAAqC;QACrC,IAAI;QACJ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAC7B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAEjC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YACpB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;QACzC,CAAC;QAED,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,GAAG,EAAE;cACzC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;cACjB,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;IACxB,CAAC;IAES,kDAAoB,GAA9B;QACE,IAAI,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;QACrC,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY;cACzB,CAAC,KAAK,GAAG,CAAC,IAAI,KAAK,GAAG,EAAE,CAAC;cACzB,CAAC,KAAK,IAAI,CAAC,IAAI,KAAK,GAAG,EAAE,CAAC,CAAC;QAC/B,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YACX,MAAM,CAAC,KAAK,CAAC,CAAC;QAChB,CAAC;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YACtB,EAAE,CAAC,CAAC,KAAK,KAAK,EAAE,CAAC,CAAC,CAAC;gBACjB,KAAK,GAAG,CAAC,CAAC;YACZ,CAAC;YACD,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACxC,KAAK,GAAG,KAAK,GAAG,EAAE,CAAC;YACrB,CAAC;QACH,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACf,CAAC;IAES,oDAAsB,GAAhC;QACE,IAAI,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;QACzC,MAAM,CAAC,CAAC,OAAO,IAAI,CAAC,IAAI,OAAO,GAAG,EAAE,CAAC,GAAG,OAAO,GAAG,SAAS,CAAC;IAC9D,CAAC;IAES,iCAAG,GAAb,UAAc,KAAoB;QAChC,MAAM,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,QAAQ,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC;cACpD,GAAG,GAAG,KAAK;cACX,KAAK,CAAC,QAAQ,EAAE,CAAC;IACvB,CAAC;IAES,kDAAoB,GAA9B,UAA+B,OAAY;QACzC,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;QACnD,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAmDH,0BAAC;AAAD,CAxXA,AAwXC;;AAlDM,8BAAU,GAA0B;IAC3C,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;gBACxB,QAAQ,EAAE,YAAY;gBACtB,QAAQ,EAAE,umEA2BT;gBACD,SAAS,EAAE,CAAC,iCAAiC,CAAC;aAC/C,EAAG,EAAE;CACL,CAAC;AACF,kBAAkB;AACX,kCAAc,GAAmE,cAAM,OAAA;IAC9F,EAAC,IAAI,EAAE,gBAAgB,GAAG;CACzB,EAF6F,CAE7F,CAAC;AACK,kCAAc,GAA2C;IAChE,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;IAC9B,YAAY,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;IAChC,eAAe,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;IACnC,YAAY,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;IAChC,WAAW,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;IAC/B,cAAc,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;IAClC,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;IACzB,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;IACzB,WAAW,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;IAC/B,cAAc,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;CACjC,CAAC","file":"timepicker.component.js","sourceRoot":"","sourcesContent":["// tslint:disable max-file-line-count\r\nimport { Component, Input, OnInit, forwardRef } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { TimepickerConfig } from './timepicker.config';\r\n\r\nexport const TIMEPICKER_CONTROL_VALUE_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => TimepickerComponent),\r\n  multi: true\r\n};\r\n\r\n// todo: refactor directive has to many functions! (extract to stateless helper)\r\n// todo: use moment js?\r\n// todo: implement `time` validator\r\n// todo: replace increment/decrement blockers with getters, or extract\r\n// todo: unify work with selected\r\nfunction isDefined(value: any): boolean {\r\n  return typeof value !== 'undefined';\r\n}\r\n\r\nfunction addMinutes(date: any, minutes: number): Date {\r\n  let dt = new Date(date.getTime() + minutes * 60000);\r\n  let newDate = new Date(date);\r\n  newDate.setHours(dt.getHours(), dt.getMinutes());\r\n  return newDate;\r\n}\r\n\r\n\r\nexport class TimepickerComponent implements ControlValueAccessor, OnInit {\r\n  /** hours change step */\r\n   public hourStep: number;\r\n  /** hours change step */\r\n   public minuteStep: number;\r\n  /** if true hours and minutes fields will be readonly */\r\n   public readonlyInput: boolean;\r\n  /** if true scroll inside hours and minutes inputs will change time */\r\n   public mousewheel: boolean;\r\n  /** if true up/down arrowkeys inside hours and minutes inputs will change time */\r\n   public arrowkeys: boolean;\r\n  /** if true spinner arrows above and below the inputs will be shown */\r\n   public showSpinners: boolean;\r\n  /** minimum time user can select */\r\n   public min: Date;\r\n  /** maximum time user can select */\r\n   public max: Date;\r\n  /** meridian labels based on locale */\r\n   public meridians: string[];\r\n\r\n  /** if true works in 12H mode and displays AM/PM. If false works in 24H mode and hides AM/PM */\r\n  \r\n  public get showMeridian(): boolean {\r\n    return this._showMeridian;\r\n  }\r\n\r\n  public set showMeridian(value: boolean) {\r\n    this._showMeridian = value;\r\n    // || !this.$error.time\r\n    // if (true) {\r\n    this.updateTemplate();\r\n    return;\r\n    // }\r\n    // Evaluate from template\r\n    /*let hours = this.getHoursFromTemplate();\r\n     let minutes = this.getMinutesFromTemplate();\r\n     if (isDefined(hours) && isDefined(minutes)) {\r\n     this.selected.setHours(hours);\r\n     this.refresh();\r\n     }*/\r\n  }\r\n\r\n  public onChange: any = Function.prototype;\r\n  public onTouched: any = Function.prototype;\r\n\r\n  // input values\r\n  public hours: string;\r\n  public minutes: string;\r\n\r\n  // validation\r\n  public invalidHours: any;\r\n  public invalidMinutes: any;\r\n\r\n  public meridian: any; // ??\r\n\r\n  // result value\r\n  protected _selected: Date = new Date();\r\n  protected _showMeridian: boolean;\r\n\r\n  protected get selected(): Date {\r\n    return this._selected;\r\n  }\r\n\r\n  protected set selected(v: Date) {\r\n    if (v) {\r\n      this._selected = v;\r\n      this.updateTemplate();\r\n      this.onChange(this.selected);\r\n    }\r\n  }\r\n\r\n  protected config: TimepickerConfig;\r\n\r\n  public constructor(_config: TimepickerConfig) {\r\n    this.config = _config;\r\n    Object.assign(this, _config);\r\n  }\r\n\r\n  // todo: add formatter value to Date object\r\n  public ngOnInit(): void {\r\n    // todo: take in account $locale.DATETIME_FORMATS.AMPMS;\r\n    if (this.mousewheel) {\r\n      // this.setupMousewheelEvents();\r\n    }\r\n\r\n    if (this.arrowkeys) {\r\n      // this.setupArrowkeyEvents();\r\n    }\r\n\r\n    // this.setupInputEvents();\r\n  }\r\n\r\n  public writeValue(v: any): void {\r\n    if (v === this.selected) {\r\n      return;\r\n    }\r\n    if (v && v instanceof Date) {\r\n      this.selected = v;\r\n      return;\r\n    }\r\n    this.selected = v ? new Date(v) : void 0;\r\n  }\r\n\r\n  public registerOnChange(fn: (_: any) => {}): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  public registerOnTouched(fn: () => {}): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  public setDisabledState(isDisabled: boolean): void {\r\n    this.readonlyInput = isDisabled;\r\n  }\r\n\r\n  public updateHours(): void {\r\n    if (this.readonlyInput) {\r\n      return;\r\n    }\r\n\r\n    let hours = this.getHoursFromTemplate();\r\n    let minutes = this.getMinutesFromTemplate();\r\n    this.invalidHours = !isDefined(hours);\r\n    this.invalidMinutes = !isDefined(minutes);\r\n\r\n    if (this.invalidHours || this.invalidMinutes) {\r\n      // TODO: needed a validation functionality.\r\n      return;\r\n      // todo: validation?\r\n      // invalidate(true);\r\n    }\r\n\r\n    this.selected.setHours(hours);\r\n    this.invalidHours = (this.selected < this.min || this.selected > this.max);\r\n    if (this.invalidHours) {\r\n      // todo: validation?\r\n      // invalidate(true);\r\n      return;\r\n    } else {\r\n      this.refresh(/*'h'*/);\r\n    }\r\n  }\r\n\r\n  public hoursOnBlur(): void {\r\n    if (this.readonlyInput) {\r\n      return;\r\n    }\r\n\r\n    // todo: binded with validation\r\n    if (!this.invalidHours && parseInt(this.hours, 10) < 10) {\r\n      this.hours = this.pad(this.hours);\r\n    }\r\n  }\r\n\r\n  public updateMinutes(): void {\r\n    if (this.readonlyInput) {\r\n      return;\r\n    }\r\n\r\n    let minutes = this.getMinutesFromTemplate();\r\n    let hours = this.getHoursFromTemplate();\r\n    this.invalidMinutes = !isDefined(minutes);\r\n    this.invalidHours = !isDefined(hours);\r\n\r\n    if (this.invalidMinutes || this.invalidHours) {\r\n      // TODO: needed a validation functionality.\r\n      return;\r\n      // todo: validation\r\n      // invalidate(undefined, true);\r\n    }\r\n\r\n    this.selected.setMinutes(minutes);\r\n    this.invalidMinutes = (this.selected < this.min || this.selected > this.max);\r\n    if (this.invalidMinutes) {\r\n      // todo: validation\r\n      // invalidate(undefined, true);\r\n      return;\r\n    } else {\r\n      this.refresh(/*'m'*/);\r\n    }\r\n  }\r\n\r\n  public minutesOnBlur(): void {\r\n    if (this.readonlyInput) {\r\n      return;\r\n    }\r\n\r\n    if (!this.invalidMinutes && parseInt(this.minutes, 10) < 10) {\r\n      this.minutes = this.pad(this.minutes);\r\n    }\r\n  }\r\n\r\n  public incrementHours(): void {\r\n    if (!this.noIncrementHours()) {\r\n      this.addMinutesToSelected(this.hourStep * 60);\r\n    }\r\n  }\r\n\r\n  public decrementHours(): void {\r\n    if (!this.noDecrementHours()) {\r\n      this.addMinutesToSelected(-this.hourStep * 60);\r\n    }\r\n  }\r\n\r\n  public incrementMinutes(): void {\r\n    if (!this.noIncrementMinutes()) {\r\n      this.addMinutesToSelected(this.minuteStep);\r\n    }\r\n  }\r\n\r\n  public decrementMinutes(): void {\r\n    if (!this.noDecrementMinutes()) {\r\n      this.addMinutesToSelected(-this.minuteStep);\r\n    }\r\n  }\r\n\r\n  public noIncrementHours(): boolean {\r\n    let incrementedSelected = addMinutes(this.selected, this.hourStep * 60);\r\n    return incrementedSelected > this.max ||\r\n      (incrementedSelected < this.selected && incrementedSelected < this.min);\r\n  }\r\n\r\n  public noDecrementHours(): boolean {\r\n    let decrementedSelected = addMinutes(this.selected, -this.hourStep * 60);\r\n    return decrementedSelected < this.min ||\r\n      (decrementedSelected > this.selected && decrementedSelected > this.max);\r\n  }\r\n\r\n  public noIncrementMinutes(): boolean {\r\n    let incrementedSelected = addMinutes(this.selected, this.minuteStep);\r\n    return incrementedSelected > this.max ||\r\n      (incrementedSelected < this.selected && incrementedSelected < this.min);\r\n  }\r\n\r\n  public noDecrementMinutes(): boolean {\r\n    let decrementedSelected = addMinutes(this.selected, -this.minuteStep);\r\n    return decrementedSelected < this.min ||\r\n      (decrementedSelected > this.selected && decrementedSelected > this.max);\r\n\r\n  }\r\n\r\n  public toggleMeridian(): void {\r\n    if (!this.noToggleMeridian()) {\r\n      let sign = this.selected.getHours() < 12 ? 1 : -1;\r\n      this.addMinutesToSelected(12 * 60 * sign);\r\n    }\r\n  }\r\n\r\n  public noToggleMeridian(): boolean {\r\n    if (this.readonlyInput) {\r\n      return true;\r\n    }\r\n\r\n    if (this.selected.getHours() < 13) {\r\n      return addMinutes(this.selected, 12 * 60) > this.max;\r\n    } else {\r\n      return addMinutes(this.selected, -12 * 60) < this.min;\r\n    }\r\n  }\r\n\r\n  protected refresh(/*type?:string*/): void {\r\n    // this.makeValid();\r\n    this.updateTemplate();\r\n    this.onChange(this.selected);\r\n  }\r\n\r\n  protected updateTemplate(/*keyboardChange?:any*/): void {\r\n    let hours = this.selected.getHours();\r\n    let minutes = this.selected.getMinutes();\r\n\r\n    if (this.showMeridian) {\r\n      // Convert 24 to 12 hour system\r\n      hours = (hours === 0 || hours === 12) ? 12 : hours % 12;\r\n    }\r\n\r\n    // this.hours = keyboardChange === 'h' ? hours : this.pad(hours);\r\n    // if (keyboardChange !== 'm') {\r\n    //  this.minutes = this.pad(minutes);\r\n    // }\r\n    this.hours = this.pad(hours);\r\n    this.minutes = this.pad(minutes);\r\n\r\n    if (!this.meridians) {\r\n      this.meridians = this.config.meridians;\r\n    }\r\n\r\n    this.meridian = this.selected.getHours() < 12\r\n      ? this.meridians[0]\r\n      : this.meridians[1];\r\n  }\r\n\r\n  protected getHoursFromTemplate(): number {\r\n    let hours = parseInt(this.hours, 10);\r\n    let valid = this.showMeridian\r\n      ? (hours > 0 && hours < 13)\r\n      : (hours >= 0 && hours < 24);\r\n    if (!valid) {\r\n      return void 0;\r\n    }\r\n\r\n    if (this.showMeridian) {\r\n      if (hours === 12) {\r\n        hours = 0;\r\n      }\r\n      if (this.meridian === this.meridians[1]) {\r\n        hours = hours + 12;\r\n      }\r\n    }\r\n    return hours;\r\n  }\r\n\r\n  protected getMinutesFromTemplate(): number {\r\n    let minutes = parseInt(this.minutes, 10);\r\n    return (minutes >= 0 && minutes < 60) ? minutes : undefined;\r\n  }\r\n\r\n  protected pad(value: string|number): string {\r\n    return (isDefined(value) && value.toString().length < 2)\r\n      ? '0' + value\r\n      : value.toString();\r\n  }\r\n\r\n  protected addMinutesToSelected(minutes: any): void {\r\n    this.selected = addMinutes(this.selected, minutes);\r\n    this.refresh();\r\n  }\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\r\n  selector: 'timepicker',\r\n  template: `\r\n    <table>\r\n      <tbody>\r\n        <tr class=\"text-center\" [ngClass]=\"{hidden: !showSpinners || readonlyInput}\">\r\n          <td><a (click)=\"incrementHours()\" [ngClass]=\"{disabled: noIncrementHours()}\" class=\"btn btn-link\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\r\n          <td>&nbsp;</td>\r\n          <td><a (click)=\"incrementMinutes()\" [ngClass]=\"{disabled: noIncrementMinutes()}\" class=\"btn btn-link\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\r\n          <td [ngClass]=\"{hidden: !showMeridian}\" *ngIf=\"showMeridian\"></td>\r\n        </tr>\r\n        <tr>\r\n          <td class=\"form-group\" [ngClass]=\"{'has-error': invalidHours}\">\r\n            <input style=\"width:50px;\" type=\"text\" [(ngModel)]=\"hours\" (change)=\"updateHours()\" class=\"form-control text-center\" [readonly]=\"readonlyInput\" (blur)=\"hoursOnBlur()\" maxlength=\"2\">\r\n          </td>\r\n          <td>:</td>\r\n          <td class=\"form-group\" [ngClass]=\"{'has-error': invalidMinutes}\">\r\n            <input style=\"width:50px;\" type=\"text\" [(ngModel)]=\"minutes\" (change)=\"updateMinutes()\" class=\"form-control text-center\" [readonly]=\"readonlyInput\" (blur)=\"minutesOnBlur()\" maxlength=\"2\">\r\n          </td>\r\n          <td [ngClass]=\"{hidden: !showMeridian}\" *ngIf=\"showMeridian\"><button type=\"button\" [ngClass]=\"{disabled: noToggleMeridian() || readonlyInput}\" class=\"btn btn-default text-center\" (click)=\"toggleMeridian()\">{{meridian}}</button></td>\r\n        </tr>\r\n        <tr class=\"text-center\" [ngClass]=\"{hidden: !showSpinners || readonlyInput}\">\r\n          <td><a (click)=\"decrementHours()\" [ngClass]=\"{disabled: noDecrementHours()}\" class=\"btn btn-link\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\r\n          <td>&nbsp;</td>\r\n          <td><a (click)=\"decrementMinutes()\" [ngClass]=\"{disabled: noDecrementMinutes()}\" class=\"btn btn-link\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\r\n          <td [ngClass]=\"{hidden: !showMeridian}\" *ngIf=\"showMeridian\"></td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  `,\r\n  providers: [TIMEPICKER_CONTROL_VALUE_ACCESSOR]\r\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: TimepickerConfig, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'hourStep': [{ type: Input },],\n'minuteStep': [{ type: Input },],\n'readonlyInput': [{ type: Input },],\n'mousewheel': [{ type: Input },],\n'arrowkeys': [{ type: Input },],\n'showSpinners': [{ type: Input },],\n'min': [{ type: Input },],\n'max': [{ type: Input },],\n'meridians': [{ type: Input },],\n'showMeridian': [{ type: Input },],\n};\n}\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}